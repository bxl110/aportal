<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
  
  
    
    
    <entry>
      <title></title>
      <link href="/aportal/index.html"/>
      <url>/aportal/index.html</url>
      
        <content type="html"><![CDATA[h1 中文]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>常见问题</title>
      <link href="/aportal/docs/common/index.html"/>
      <url>/aportal/docs/common/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>文档书写规范</title>
      <link href="/aportal/docs/common/writting.html"/>
      <url>/aportal/docs/common/writting.html</url>
      
        <content type="html"><![CDATA[<h2 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h2><p>Tag 是基于 Hexo实现的自定义书写标签模板，根据 APortal 文档的需求，我们实现了下面几种 Tag。</p><h3 id="img-Tag"><a href="#img-Tag" class="headerlink" title="img Tag"></a>img Tag</h3><p>居中插入图片。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% fullimg images&#x2F;media&#x2F;15765646706398&#x2F;15765712301730.jpg,  class, 80%,80% %&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-info bg-soft-info">              <p>img Tag 的参数说明：图片路径，类名，宽度，高度。<br>注意：除了图片路径为必填外，其余的都属于非必填（宽度和高度如只填一个的话宽高默认相等），且imgtag为单标签不需要end结束标签</p>            </blockquote><p>效果：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/media/15765646706398/15765712301730.jpg' ></img></div><h2 id="label-Tag"><a href="#label-Tag" class="headerlink" title="label Tag"></a>label Tag</h2><p>为文字添加标签背景。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label primary@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-primary text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label secondary@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-secondary text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label success@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-success text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label danger@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-danger text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label warning@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-warning text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label info@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-info text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label dark@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-dark text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label body@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-body text-white">APortal</span><h2 id="note-Tag"><a href="#note-Tag" class="headerlink" title="note Tag"></a>note Tag</h2><p>内容注释块。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note primary%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-primary bg-soft-primary">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note secondary%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-secondary bg-soft-secondary">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note success%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-success bg-soft-success">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note danger%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-danger bg-soft-danger">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note warning%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-warning bg-soft-warning">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note info%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-info bg-soft-info">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note dark%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-dark bg-soft-dark">              <p>APortal for Office 365.</p>            </blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>示例项目</title>
      <link href="/aportal/docs/example/index.html"/>
      <url>/aportal/docs/example/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>开始使用</title>
      <link href="/aportal/docs/gettingstarted/index.html"/>
      <url>/aportal/docs/gettingstarted/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>初始设置</title>
      <link href="/aportal/docs/gettingstarted/initialization.html"/>
      <url>/aportal/docs/gettingstarted/initialization.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>安装</title>
      <link href="/aportal/docs/gettingstarted/installation.html"/>
      <url>/aportal/docs/gettingstarted/installation.html</url>
      
        <content type="html"><![CDATA[<h2 id="导语"><a href="#导语" class="headerlink" title="导语"></a>导语</h2><p>在安装 APortal 之前，请仔细阅读本系列文章第一篇 ，根据实际需求谨慎选择安装环境，因为安装 APortal 会在相应的网站生成列表和推送网站资源，如果是已经存在的生产网站，可能会造成不可逆转的数据混淆。</p><h2 id="安装-APortal-PowerShell"><a href="#安装-APortal-PowerShell" class="headerlink" title="安装 APortal.PowerShell"></a>安装 APortal.PowerShell</h2><blockquote class="callout border-info bg-soft-info">              <p>安装 APortal 使用 PowerShell 标准的包管理工具，我们针对 APortal 产品提供了一个叫做 <code>APortal.PowerShell</code>的 PowerShell 模块，且维护在 <a href="https://www.powershellgallery.com/packages/APortal.PowerShell" target="_blank" rel="noopener external nofollow noreferrer">PowerShellGallery</a> 上。</p>            </blockquote><h3 id="安装模块前环境准备"><a href="#安装模块前环境准备" class="headerlink" title="安装模块前环境准备"></a>安装模块前环境准备</h3><blockquote class="callout border-warning bg-soft-warning">              <p><code>APortal.PowerShell</code> 模块依赖 <code>SharePointPnPPowerShellOnline</code>模块，因此目前只能在 Windows 环境下执行。</p>            </blockquote><h4 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h4><ul><li>Windows 10</li><li>Windows 2012 及以上</li></ul><h4 id="PowerShell-版本"><a href="#PowerShell-版本" class="headerlink" title="PowerShell 版本"></a>PowerShell 版本</h4><ul><li>5.0 </li><li>5.1</li></ul><h4 id="Net-Framework-版本"><a href="#Net-Framework-版本" class="headerlink" title=".Net Framework 版本"></a>.Net Framework 版本</h4><ul><li>4.5 及以上</li><li>不支持 .NET Core</li></ul><h4 id="SharePointPnPPowerShellOnline-版本"><a href="#SharePointPnPPowerShellOnline-版本" class="headerlink" title="SharePointPnPPowerShellOnline 版本"></a>SharePointPnPPowerShellOnline 版本</h4><ul><li>3.13.1909</li><li>不需要手工安装，在安装 <code>APortal.Powershell</code> 包的时候会自动安装</li></ul><h3 id="安装模块"><a href="#安装模块" class="headerlink" title="安装模块"></a>安装模块</h3><blockquote class="callout border-info bg-soft-info">              <p>准备好安装环境后，安装过程就十分简单，只需要运行安装命令即可。</p>            </blockquote><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装最新版本</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> APortal.PowerShell</span><br><span class="line"><span class="comment"># 安装特定版本</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> APortal.PowerShell <span class="literal">-RequiredVersion</span> <span class="number">0.0</span>.<span class="number">9</span></span><br></pre></td></tr></table></figure><p>安装完成后，可以使用命令确认模块是否安装正确。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Get-Module</span> <span class="literal">-Name</span> APortal.PowerShell <span class="literal">-ListAvailable</span></span><br></pre></td></tr></table></figure><h2 id="使用-APortal-PowerShell"><a href="#使用-APortal-PowerShell" class="headerlink" title="使用 APortal.PowerShell"></a>使用 APortal.PowerShell</h2><blockquote class="callout border-info bg-soft-info">              <p>安装好 <code>APortal.PowerShell</code> 模块后，就可以使用模块包中提供的命令对网站进行设置 APortal。下面介绍 APortal.PowerShell 模块中包含的可用命令。</p>            </blockquote><h3 id="Set-APortalWeb"><a href="#Set-APortalWeb" class="headerlink" title="Set-APortalWeb"></a>Set-APortalWeb</h3><blockquote class="callout border-info bg-soft-info">              <p>这是 <code>APortal.PowerShell</code> 模块中提供的最主要命令，用于设置SharePoint Online网站的 APortal 功能，会在用户输入的网站地址对应的网站上推送列表，网站资源，列表数据等一系列的网站数据。</p>            </blockquote><ol><li><p>输入命令</p> <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 国际网站</span></span><br><span class="line"><span class="built_in">Set-APortalWeb</span> https://yourtenantname.sharepoint.com/sites/web/subweb</span><br><span class="line"><span class="comment"># 世纪互联网站</span></span><br><span class="line"><span class="built_in">Set-APortalWeb</span> https://yourtenantname.sharepoint.cn/sites/web/subweb</span><br></pre></td></tr></table></figure></li><li><p>在弹出的身份认证窗口中输入网站管理员身份信息</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/media/15779286287197/15779316086252.jpg' ></img></div><!-- ![-w967](images/media/15779286287197/15779316086252.jpg) --></li><li><p>确认管理员身份后命令开始执行，直到推送结束</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/media/15779286287197/15779323142997.jpg' ></img></div><!-- ![-w881](images/media/15779286287197/15779323142997.jpg) --></li></ol>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>准备</title>
      <link href="/aportal/docs/gettingstarted/preinstallation.html"/>
      <url>/aportal/docs/gettingstarted/preinstallation.html</url>
      
        <content type="html"><![CDATA[<h2 id="导语"><a href="#导语" class="headerlink" title="导语"></a>导语</h2><p>APortal for Office 365 系列文章是针对 APortal 的产品使用介绍。APortal 基于微软Office 365 ，为 Office 365 和企业用户带来技术增值和业务增值。</p><h2 id="什么是-Office-365？"><a href="#什么是-Office-365？" class="headerlink" title="什么是 Office 365？"></a>什么是 Office 365？</h2><blockquote class="callout border-warning bg-soft-warning">              <p>由于各个国家的政策和法规有所不同，所以 Office 365 在全球一共有 4 个版本：</p><ul><li>全球版</li><li>美国政府版</li><li>德国版</li><li>处于中国的世纪互联运营版</li></ul><p>以下内容以全球版 E5 开发者版本 为基础进行介绍。</p>            </blockquote><p>Office 365 是微软为企业打造的完整的办公云服务，它不仅包含最新版的 Office 软件，同时满足企业对于企业级邮件处理（Exchange Online）、  文件分享（SharePoint Online）、即时消息和可视网络会议（Skype for Business）的需求。Office 365 将帮助您的企业实现办公的运维、管理  和使用体验的革新，为您的企业带来更灵活、高效、更安全可靠的云办公方式。 </p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15765712301730.jpg' ></img></div><!-- <img width=500 src="images/media/15765646706398/15765712301730.jpg" > --><!-- ![-w1440](images/media/15765646706398/15765712301730.jpg =500x500) --><p>Office 365 中包含了很多企业应用产品，其中常见的有 Word，Excel，PowerPoint，Exchange，Skype，SharePoint 等。熟悉微软企业应用体系的用户可以看出来，这其实就是之前企业内部应用微软产品的云端系列，如果熟悉企业信息协同的用户一眼就能看到 SharePoint 这个产品，这是过去二十年微软在企业内部信息协同的拳头产品，如今也可以依托云端运行，APortal 当前版本就是针对 SharePoint Online 进行技术和业务的增强。</p><p>要使用 APortal 提供的功能，首先需要有一个 SharePoint Online 网站，下面就介绍如何创建一个 SharePoint Online 网站。</p><h2 id="创建网站"><a href="#创建网站" class="headerlink" title="创建网站"></a>创建网站</h2><blockquote class="callout border-info bg-soft-info">              <p>APortal 支持在现有网站上进行部署，但是为了业务的独立性和连续性，我们强烈建议重新创建新的 <code>Tenant</code> 和子网站。特别是对 Aporta 进行评估和试用的用户，我们推荐在新的 <code>TenantSite</code>下的子网站上进行。</p>            </blockquote><h3 id="创建前的准备"><a href="#创建前的准备" class="headerlink" title="创建前的准备"></a>创建前的准备</h3><blockquote class="callout border-warning bg-soft-warning">              <p>您需要有租户管理员账号和密码。</p>            </blockquote><h3 id="使用浏览器创建"><a href="#使用浏览器创建" class="headerlink" title="使用浏览器创建"></a>使用浏览器创建</h3><p>打开浏览器，输入SharePoint Online 管理中心地址：<br><a href="https://yourtenantname-admin.sharepoint.cn/" target="_blank" rel="noopener external nofollow noreferrer">https://yourtenantname-admin.sharepoint.cn/</a></p><blockquote class="callout border-info bg-soft-info">              <p>以我们地址为例<br><a href="https://aportaldev-admin.sharepoint.com/。" target="_blank" rel="noopener external nofollow noreferrer">https://aportaldev-admin.sharepoint.com/。</a></p>            </blockquote><p>管理中心主页：</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15765696856194.jpg' ></img></div><!-- ![-w1434](images/media/15765646706398/15765696856194.jpg) --><p>点击左侧菜单中的 <code>活动站点</code>，然后点击右侧内容中的 <code>创建</code> 按钮；</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766329020992.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766329020992.jpg) --><p>选择 <code>团队网站</code></p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766329750362.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766329750362.jpg) --><p>输入 <code>站点名称</code>，<code>组所有者</code>和<code>选择网站语言</code>，点击<code>下一步</code></p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766330369238.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766330369238.jpg) --><p>等待网站集创建完成：</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766330656810.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766330656810.jpg) --><p>创建完成后，通过地址 <a href="https://aportaldev.sharepoint.com/sites/uat" target="_blank" rel="noopener external nofollow noreferrer">https://aportaldev.sharepoint.com/sites/uat</a> 访问创建好的网站集和网站：</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766332481009.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766332481009.jpg) --><p>为了方便对 APortal 进行评估，建议在网站集下创建子网站进行，这样就不用频繁需要租户管理员进行操作。</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766333633951.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766333633951.jpg) --><p>点击创建子网站，填写创建子网站的相关内容，使用默认选项，点击页面下方的<code>创建</code>按钮：</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766334768686.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766334768686.jpg) --><p>创建完成后，会跳转到新创建的子网站首页，表示准备工作已经就绪。</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766336022347.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766336022347.jpg) --><h3 id="使用脚本创建"><a href="#使用脚本创建" class="headerlink" title="使用脚本创建"></a>使用脚本创建</h3><h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>自定义开发</title>
      <link href="/aportal/docs/introduction/development.html"/>
      <url>/aportal/docs/introduction/development.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>表单设计</title>
      <link href="/aportal/docs/introduction/form.html"/>
      <url>/aportal/docs/introduction/form.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>使用详解</title>
      <link href="/aportal/docs/introduction/index.html"/>
      <url>/aportal/docs/introduction/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>组织结构管理</title>
      <link href="/aportal/docs/introduction/orgchart.html"/>
      <url>/aportal/docs/introduction/orgchart.html</url>
      
        <content type="html"><![CDATA[<blockquote class="callout border-info bg-soft-info">              <p>组织结构以 “公司-部门-子部门-子子部门-……-用户” 的树状结构管理企业的公司、部门结构和用户信息。为确保用户正常使用，<span class="p-1 rounded mb-2 bg-danger text-white">必须</span>为每个用户在组织结构中设置一个默认的所属部门，每个用户均可以从属于多个部门角色。</p>            </blockquote><h2 id="公司设置"><a href="#公司设置" class="headerlink" title="公司设置"></a>公司设置</h2><p>&emsp;&emsp;系统初始化时将在组织结构中创建一个唯一的公司，组织结构下所有的部门、子部门等等都以该公司为顶级公司。在组织组织结构页面左侧的组织结构树中选择公司，并点击页面上的<span class="p-1 rounded mb-2 bg-primary text-white">编辑</span>按钮，可以编辑公司名称。</p><h2 id="部门设置"><a href="#部门设置" class="headerlink" title="部门设置"></a>部门设置</h2><p>&emsp;&emsp;系统初始化时，系统将默认设置一个顶级部门，从属于默认的公司。用户可以在公司下创建其他的顶级部门，或在顶级部门下创建子部门。<br>&emsp;&emsp;在左侧导航栏中选择公司，并点击 <span class="p-1 rounded mb-2 bg-primary text-white">新增</span>- <span class="p-1 rounded mb-2 bg-primary text-white">新增部门</span> 按钮，在弹出窗口中创建新的顶级部门。顶级部门的上级部门为空，公司由系统默认设置为系统中的唯一公司，不允许修改。<br>&emsp;&emsp;创建顶级部门完成后，可以在左侧导航栏中选择顶级部门节点，继续创建子部门。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-15-34-36.png' ></img></div><blockquote class="callout border-danger bg-soft-danger">              <p>注1：在整个组织结构中，所有部门名称必须唯一，不允许重复</p>            </blockquote><h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h3 id="用户列表"><a href="#用户列表" class="headerlink" title="用户列表"></a>用户列表</h3><p>&emsp;&emsp;在组织结构树中点击部门节点时，在右侧列表中显示默认部门从属于该部门的所有用户信息。点击公司节点时，显示公司所有用户信息。<br>&emsp;&emsp;在用户列表上方的搜索框中输入用户名、电子邮件、电话号码等信息，可以对用户信息进行检索，检索结果将在用户列表中显示。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-36-06.png' ></img></div><h3 id="新增-编辑-删除用户"><a href="#新增-编辑-删除用户" class="headerlink" title="新增/编辑/删除用户"></a>新增/编辑/删除用户</h3><p>&emsp;&emsp;在人员列表上方点击“新增-新增用户”按钮，开始在系统中创建新用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-37-38.png' ></img></div><p>&emsp;&emsp;在用户列表中选择某条用户后，点击列表上方的『编辑』按钮，在弹出窗口中对用户信息进行编辑。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-38-20.png' ></img></div><blockquote class="callout border-danger bg-soft-danger">              <p>注1：在整个组织结构中，所有用户的登录名必须唯一，不允许重复；<br>注2：人员信息编辑页面显示的字段名称和顺序根据系统人员列表的<ssadmindata>视图决定，系统管理员可以根据实际业务需求在系统后台进行设置</p>            </blockquote><h3 id="导入-导出用户"><a href="#导入-导出用户" class="headerlink" title="导入/导出用户"></a>导入/导出用户</h3><h4 id="用户信息导入"><a href="#用户信息导入" class="headerlink" title="用户信息导入"></a>用户信息导入</h4><p>&emsp;&emsp;组织结构中可以以Excel文件形式批量导入用户。导入用户前，在用户列表上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">导入</span> 按钮，在弹出窗口中点击 <span class="p-1 rounded mb-2 bg-danger text-white">模板下载</span> 超链接下载用于用户信息导入的Excel模板。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-38-58.png' ></img></div><p>&emsp;&emsp;打开下载的Excel模板，在模板中填写需要导入的内容，随后再次点击『导入』按钮，并选择编辑后的Excel文件进行导入。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-39-38.png' ></img></div><blockquote class="callout border-danger bg-soft-danger">              <p>注1：Excel导入文件中，必须填写的字段包括“标题 – 用户姓名”，”Login Name – 登录帐号”，“Department – 所属部门”等；其中“Login Name – 登录帐号”不允许重复，如果重复系统将作为同一个用户导入，也就是说以最后一条导入的相同的Login Name的数据作为该用户的用户信息；<br>注2：用户导入/导出Excel模板中包含的字段名和顺序由用户列表的<SSExportData>视图决定</p>            </blockquote><h4 id="用户信息导出"><a href="#用户信息导出" class="headerlink" title="用户信息导出"></a>用户信息导出</h4><p>&emsp;&emsp;在组织结构树中点击任意部门节点后，在右侧的用户列表中将列出该部门下的所有用户信息。点击用户信息列表上方的 <span class="p-1 rounded mb-2 bg-danger text-white">导出</span> 按钮，可以将该部门下的所有用户信息导出到Excel模板中。<br>&emsp;&emsp;在组织结构树中选择公司节点，再进行导出操作时，将导出组织结构中包含的所有用户信息。<br>&emsp;&emsp;导出的用户信息Excel文件也可以用户导入并批量更新用户信息。用户可以在导出的Excel文件中进行修改，随后执行导入操作。</p><h2 id="用户角色管理"><a href="#用户角色管理" class="headerlink" title="用户角色管理"></a>用户角色管理</h2><p>&emsp;&emsp;在组织结构的各个部门节点上，根据实际业务流程需求将用户组织成为不同的组，用于工作流的权限设置和审批、审阅流程节点设置。例如，在某个部门节点上设置“财务控制”角色，在流程设计过程中可以将相关的财务审核审批权限设置给这个角色，和该部门相关的流程可以自动流转到属于该角色的用户名下了。这种基于部门组织结构的用户分组操作就是用户角色管理。<br>&emsp;&emsp;系统中存在的所有角色名称都在SSO_Role列表中进行管理，该列表可以由管理员在后台管理。也可以由管理员将列表设置在系统提供的管理页面中，并授权给相关人员进行管理。</p><blockquote class="callout border-danger bg-soft-danger">              <p>注：角色名称在整个系统中应唯一，不允许重复的角色名称。</p>            </blockquote><p>&emsp;&emsp;角色列表完成后，可以将角色和部门、用户进行关联。在左侧的组织结构树中选择某个部门节点，在右侧用户列表上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">角色</span> 按钮，在弹出的“部门角色管理 – 部门名称”窗口中将显示所选择的部门节点上所有已经存在角色和相关用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-40-24.png' ></img></div><p>&emsp;&emsp;在“部门角色管理”窗口中点击 <span class="p-1 rounded mb-2 bg-danger text-white">新建</span> 按钮，可以开始为当前部门创建一个新的角色。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-40-47.png' ></img></div><p>&emsp;&emsp;在弹出的“部门角色用户管理 – 部门名称 – 新建”窗口右上方的角色名称列表中选择当前需要为该部门创建的角色名，随后点击左侧的 <span class="p-1 rounded mb-2 bg-danger text-white">添加用户</span> 按钮。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-41-13.png' ></img></div><p>&emsp;&emsp;在“用户选择”窗口左侧树中展开选择部门节点，或在上方搜索框中输入用户姓名、邮箱等信息进行检索，然后在右侧出现的部门用户列表中选择需要添加的用户。可以添加1个或多个用户，随后点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮保存并返回上一个页面。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-41-37.png' ></img></div><p>&emsp;&emsp;在“部门角色用户管理 – 部门名称 – 新建”窗口中将出现在前一个窗口中搜索并选择添加的用户列表。可以选择某个用户并点击 <span class="p-1 rounded mb-2 bg-danger text-white">移除用户</span> 按钮将该用户从当前角色中删除，或者点击 <span class="p-1 rounded mb-2 bg-danger text-white">添加用户</span> 用户按钮继续添加其他用户。完成角色用户的添加或删除操作后，可点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮保存当前的设置并退回上一窗口。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-42-04.png' ></img></div><p>&emsp;&emsp;在“部门角色管理 – 部门名称”窗口中列出了在前一窗口中设置的角色名和设置在该角色下的用户名。用户可以在列表中选择该角色，点击上方的 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮对角色用户信息进行编辑，或点击 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮将当前选择的角色用户信息删除。<br>&emsp;&emsp;点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮可关闭当前的“部门角色管理 – 部门名称”窗口。</p><blockquote class="callout border-danger bg-soft-danger">              <p>注：系统仅支持角色和部门进行关联，不支持角色和公司关联。如果需要设置全公司的角色，可以在公司下设置一个顶级部门，并将公司范围的角色与该顶级部门关联。</p>            </blockquote><p>&emsp;&emsp;在APortal系统中，每个用户都可以和多个用户角色关联，从而在不同的流程中，或同一个流程的不同节点被分配相应的权限。</p><h2 id="用户组管理"><a href="#用户组管理" class="headerlink" title="用户组管理"></a>用户组管理</h2><p>&emsp;&emsp;用户组是对用户信息的另一种组织方式，相对于用户角色来说，用户组可以理解为是一种不关联任何部门节点的角色。每个用户都可以设置属于多个用户组。用户组也可用于工作流节点的审批人设置和授权。<br>&emsp;&emsp;在左侧导航上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">用户组</span>，进入用户组显示和管理界面。左侧导航栏中将显示当前系统中已经创建的所有用户组列表。点击 <span class="p-1 rounded mb-2 bg-danger text-white">新建组</span> 按钮可创建新的组。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-27-23-42-47.png' ></img></div><p>&emsp;&emsp;组名称填写完成后点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮保存并关闭新建组弹出窗口。选中组后可以点击 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮对组名称进行修改，或点击 <span class="p-1 rounded mb-2 bg-danger text-white">添加用户</span> 按钮在当前选中的组中增加用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-43-18.png' ></img></div><p>&emsp;&emsp;在用户选择窗口中输入关键字搜索用户，或通过左侧树状部门结构查找并选择用户后，点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮保存需要添加到用户组的所有用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-43-47.png' ></img></div><p>&emsp;&emsp;在用户列表中选择需要移除的用户，点击 <span class="p-1 rounded mb-2 bg-danger text-white">移除用户</span> 按钮将用户从当前组中移除。</p><blockquote class="callout border-danger bg-soft-danger">              <p>注：组名称在系统中必须唯一，不允许重复。</p>            </blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>工作流设计</title>
      <link href="/aportal/docs/introduction/workflow.html"/>
      <url>/aportal/docs/introduction/workflow.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;水杉工作流以“工作流类别/工作流名/工作流版本”的基本结构进行管理。使用工作流类别将各种类型的工作流根据其业务用途、面向用户群或其他需要的属性进行分类。例如：员工自主服务流程、财务类流程、生产类流程、供应商管理类流程、采购管理类流程等。工作流名称是指具体实施的流程，从属于某个工作流类别。例如：个人费用报销流程，从属于员工自主服务流程类别。<br>&emsp;&emsp;在每个工作流下，可以创建和管理多个工作流版本，在任意时间一个工作流只能有一个有效的版本（或称之为“当前版本”）。新发起的流程实例提交时，将会引用当前流程下的有效版本进行流转，并在流程结束前一直保持使用同一个流程版本。</p><h2 id="工作流类别"><a href="#工作流类别" class="headerlink" title="工作流类别"></a>工作流类别</h2><p>&emsp;&emsp;进入工作流设计器时，如果当前系统中还没有创建过任何工作流，则可以点击 <span class="p-1 rounded mb-2 bg-danger text-white">+工作流分类</span> 按钮开始创建第一个工作流类别。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-45-02.png' ></img></div><p>&emsp;&emsp;在工作流类别新增/编辑页面中，可以填写下列内容：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>工作流类别的名称。</p>            </blockquote></li><li><strong>中文/英文/日文名称</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在系统中选择相应语言作为界面语言时显示的名称。</p>            </blockquote></li><li><strong>显示顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>输入数字，用于控制在工作流中心页面中该工作流类别在左侧导航栏中显示的顺序（从上至下）。</p>            </blockquote></li></ul><p>&emsp;&emsp;输入完成后，点击 <span class="p-1 rounded mb-2 bg-danger text-white">保存</span> 按钮保存当前输入的内容。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-03-27-23-45-27.png' ></img></div><p>&emsp;&emsp;保存成功后，页面左侧导航栏中将显示出新添加或修改的工作流类别，页面转入不可编辑状态。如果需要对已经存在的工作流类别进行修改，则从左侧导航栏选择该工作流类别并点击 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮，进入编辑状态。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-45-49.png' ></img></div><p>&emsp;&emsp;选中工作流类别后，点击 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮可以将工作流类别从系统中删除。</p><blockquote class="callout border-danger bg-soft-danger">              <p>注：如果工作流类别下已经有工作流，则工作流类别不允许删除。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-46-15.png' ></img></div><h2 id="工作流"><a href="#工作流" class="headerlink" title="工作流"></a>工作流</h2><p>&emsp;&emsp;在工作流设计器中选择工作流类别，点击 <span class="p-1 rounded mb-2 bg-danger text-white">+新增/工作流</span> 按钮，可以开始创建新的工作流。工作流信息分为3个主要区域：</p><ul><li><strong>基本信息</strong></li><li><strong>权限设定</strong>  <blockquote class="callout border-success bg-soft-success">              <p>包括对于该工作流拥有读写权限的用户群设置。</p>            </blockquote></li><li><strong>重定向设置</strong>  <blockquote class="callout border-success bg-soft-success">              <p>包括对于该工作流的链接属性设置。</p>            </blockquote></li></ul><h3 id="工作流基本信息"><a href="#工作流基本信息" class="headerlink" title="工作流基本信息"></a>工作流基本信息</h3><p>&emsp;&emsp;工作流基本信息包括：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>工作流名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的工作流标题。</p>            </blockquote></li><li><strong>工作流类别</strong>  <blockquote class="callout border-success bg-soft-success">              <p>从现有的工作流类别列表中选择该工作流所属类别，这个选择决定了在工作流中心页面的左侧导航栏中，该工作流显示在那个类别下。</p>            </blockquote></li><li><strong>显示顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>输入数字，工作流中心页面根据该数字的顺序显示工作流。</p>            </blockquote></li><li><strong>流程ID</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在系统中唯一标识该工作流的ID，数字输入，在整个系统范围内唯一。</p>            </blockquote></li><li><strong>当前版本</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该工作流当前版本，这是一个只读字段，其包含的信息在工作流发布后自动更新，不允许填写</p>            </blockquote></li><li><strong>SEQFormat</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置单据编号的格式，默认格式为”{0}-{1:D6}”。</p>            </blockquote><ul><li><strong>{0}</strong><blockquote class="callout border-success bg-soft-success">              <p>SEQKey，单据编号关键字，格式设置参照下面的SEQKeyFormat。</p>            </blockquote></li><li><strong>{1}</strong><blockquote class="callout border-success bg-soft-success">              <p>流水号，D6表示6位流水号</p>            </blockquote></li><li><strong>{2}</strong><blockquote class="callout border-success bg-soft-success">              <p>公司查阅值，工作流列表上的Company字段值。</p>            </blockquote></li><li><strong>{3}</strong><blockquote class="callout border-success bg-soft-success">              <p>部门查阅值，工作流列表上的Department字段值。</p>            </blockquote></li><li><strong>{4}</strong><blockquote class="callout border-success bg-soft-success">              <p>申请人查阅值，工作流列表上的Applicant字段值。</p>            </blockquote></li><li><strong>{5:日期格式化字符串}</strong><blockquote class="callout border-success bg-soft-success">              <p>当前时间，在冒号后写日期时间格式化字符串，例如：yyyyMMddhhmmssfff</p>            </blockquote></li></ul></li><li><strong>SEQKeyFormat</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置单据编号关键字格式，如果不设置，则默认格式为”{0}-{1:yyyyMM}”。</p>            </blockquote><ul><li><strong>{0}</strong><blockquote class="callout border-success bg-soft-success">              <p>工作流版本缩写。</p>            </blockquote></li><li><strong>{1}</strong><blockquote class="callout border-success bg-soft-success">              <p>当前时间，在冒号后写日期时间格式化字符串，例如：yyyyMMddhhmmssfff。</p>            </blockquote></li></ul></li><li><strong>备注</strong>  <blockquote class="callout border-success bg-soft-success">              <p>文本输入对该工作流的描述信息。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-46-50.png' ></img></div></li></ul><h3 id="工作流权限设定"><a href="#工作流权限设定" class="headerlink" title="工作流权限设定"></a>工作流权限设定</h3><p>&emsp;&emsp;权限设定部分包含下列信息：</p><ul><li><strong>可编辑公司 (Edit Company)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择可以对该流程拥有创建和编辑权限的公司；也即从属于该公司的用户对于该流程拥有创建和编辑权限。系统中仅支持唯一的公司，因此选择可编辑公司也即代表当前系统中所有用户都对于该流程拥有创建和编辑权限。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-47-17.png' ></img></div></li><li><strong>可编辑部门 (Edit Department)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择可以对该流程拥有创建和编辑权限的部门；也即从属于所选择部门的用户对于该流程拥有创建和编辑权限，可选择多个部门。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-47-41.png' ></img></div></li><li><strong>可编辑角色 (Edit Role)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于该流程拥有创建、编辑权限的角色，也即从属于被选择角色的用户对于流程拥有创建、编辑权限，可选择多个角色。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-48-18.png' ></img></div></li><li><strong>可查看角色 (View Role)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于该流程拥有查看权限的角色，也即从属于被选择角色的用户对于流程拥有查看权限，可选择多个角色；用户可查看的流程单据范围取决于流程本身的设置。</p>            </blockquote></li><li><strong>可查看部门角色 (Department View Roles)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于本部门流程拥有查看权限的角色，也即从属于被选择角色的用户对于属于其所属部门的当前流程类型拥有全部查看权限，可选择多个角色。</p>            </blockquote></li><li><strong>可查看子部门角色 (Sub Department View Roles)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于本部门及所有下属子部门的流程拥有查看权限的角色，也即从属于被选择角色的用户对于属于其所属部门及所有下属子部门的当前流程类型拥有全部查看权限，可选择多个角色。</p>            </blockquote></li><li><strong>可查看公司角色 (Company View Roles)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于当前流程类型拥有全部查看权限的角色，可多选。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-48-46.png' ></img></div></li></ul><h3 id="重定向设置"><a href="#重定向设置" class="headerlink" title="重定向设置"></a>重定向设置</h3><p>&emsp;&emsp;工作流重定向设置是指在工作流中心页面中的左侧导航栏中点击当前流程名称后，在系统中展现的列表属性或转向的链接地址的设置。<br>&emsp;&emsp;链接类型有3个选项，默认为“工作流列表”。选择工作流列表代表当前设置的是一个工作流相关的列表，此时“重定向URL（Redirect URL）”属性无效，不需要设置。<br>&emsp;&emsp;列表属性里包含下列属性可以设置：</p><ul><li><strong>DisplayView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于和工作流相关的业务单据列表在工作流页面上显示的列表视图名称。</p>            </blockquote></li><li><strong>ShowExportButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于控制在当前工作流页面上是否显示『导出（Export）』按钮，配置值为true或false。</p>            </blockquote></li><li><strong>ExportView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于设置当前工作流列表导出时使用的列表视图名称，导出的字段及字段顺序根据该视图确定。</p>            </blockquote></li><li><strong>SubListURL</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表名称，用于设置在列表数据导出时同时导出数据的子表；子表和主表关联的字段为“S2_主表名”；配置值为子表的列表名称，例如：/Lists/SubListName。</p>            </blockquote></li><li><strong>SearchFields</strong>  <blockquote class="callout border-success bg-soft-success">              <p>配置当前列表上可以用于关键字模糊检索的列表字段名。</p>            </blockquote></li><li><strong>OrderBy</strong>  <blockquote class="callout border-success bg-soft-success">              <p>排序字段，可支持多个字段以半角逗号分隔。</p>            </blockquote></li><li><strong>OrderByDesc</strong>  <blockquote class="callout border-success bg-soft-success">              <p>逆向排序字段，可支持多个字段以半角逗号分隔。</p>            </blockquote></li></ul><p>&emsp;&emsp;上述列表属性字段以json格式组织并填写在列表属性（List Property）文本框中，例如：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"DisplayView"</span>:<span class="string">"SSFormView_2005"</span>,</span><br><span class="line">    <span class="attr">"ShowExportButton"</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"ExportView"</span>:<span class="string">"SSExportView"</span>,</span><br><span class="line">    <span class="attr">"SubListURL"</span>:<span class="string">"/Lists/ESTRA_DeliveryBatchDetail"</span>,</span><br><span class="line">    <span class="attr">"SearchFields"</span>:<span class="string">"SSW_WorkflowNumber,SSW_CurrentStatus_Text,Supplier,Planner,GenerateLabelMessage"</span>,</span><br><span class="line">    <span class="attr">"OrderByDesc"</span>:<span class="string">"SSW_WorkflowNumber,Supplier"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;链接类型的第2个选择为“自定义链接”。选择这种链接类型时，在重定向URL（Redirect URL）字段中设置超链接。在工作流首页的左侧导航栏中点击当前工作流时，将转向这里设置的超链接对应的网络路径。<br>&emsp;&emsp;链接类型的第3个选择为“自定义列表”。选择这种链接类型时，在列表属性（List Property）文本框中设置列表属性，在工作流首页的左侧导航栏中点击当前工作流时，根据这里设置的列表属性显示相应的列表信息。列表属性包含下列设置项目：</p><ul><li><strong>Key</strong>  <blockquote class="callout border-success bg-soft-success">              <p>显示的列表关键字段，用于列表导入。</p>            </blockquote></li><li><strong>ListURL</strong>  <blockquote class="callout border-success bg-soft-success">              <p>显示的列表名称，设置为“/Lists/ListName”。</p>            </blockquote></li><li><strong>SubListURL</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表名称，用于设置在列表数据导出时同时导出数据的子表；子表和主表关联的字段为“S2_主表名”；配置值为子表的列表名称，例如：/Lists/SubListName。</p>            </blockquote></li><li><strong>FormURL</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于显示列表信息的表单名称，该表单可以使用APortal表单设计器设计并发布。</p>            </blockquote></li><li><strong>LinkFields</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于设置列表中关联表单的字段名称，点击该字段对应的超链接可打开FormURL属性中设置的表单。</p>            </blockquote></li><li><strong>DisplayView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置控制列表显示的字段和字段顺序的列表视图名称。</p>            </blockquote></li><li><strong>DataView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置控制列表显示的数据范围的列表视图名称。</p>            </blockquote></li><li><strong>ImportView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置用于列表数据导入的字段和字段顺序的列表视图名称；数据导入时使用的关键字根据Key属性设置。</p>            </blockquote></li><li><strong>ExportView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置用于列表数据导出的字段和字段顺序的列表视图名称；如果设置了子表（SubListURL），则子表的导出视图名称也相同，且导出时主表的字段在子表字段之前显示（按照从左至右的顺序）。</p>            </blockquote></li><li><strong>ShowNewButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否显示 <span class="p-1 rounded mb-2 bg-danger text-white">新增</span> 按钮；如果设置为true，则点击该按钮时以新建模式打开FormURL中设置的表单。</p>            </blockquote></li><li><strong>ShowEditButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否显示 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮；如果设置为true，则在列表中选择了单行数据时，列表上方的 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮显示且被激活，点击 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮时以编辑模式打开FormURL中设置的表单，装载当前选中行的数据。</p>            </blockquote></li><li><strong>ShowDeleteButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否显示 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮；如果设置为true，则在列表中选择了一行或多行数据时，列表上方的 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮显示且被激活，点击 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮并确认后，可将选中行的数据从列表中删除（发送到网站回收站）。</p>            </blockquote></li><li><strong>ShowExportButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否显示 <span class="p-1 rounded mb-2 bg-danger text-white">导出</span> 按钮。</p>            </blockquote></li><li><strong>OrderBy</strong>  <blockquote class="callout border-success bg-soft-success">              <p>排序字段，可支持多个字段以半角逗号分隔。</p>            </blockquote></li><li><strong>OrderByDesc</strong>  <blockquote class="callout border-success bg-soft-success">              <p>逆向排序字段，可支持多个字段以半角逗号分隔。</p>            </blockquote></li><li><strong>SearchFields</strong>  <blockquote class="callout border-success bg-soft-success">              <p>配置当前列表上可以用于关键字模糊检索的列表字段名。</p>            </blockquote></li><li><strong>ShowAll</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置true或false，默认值为true，代表当前自定义的列表不限制权限，用户可以看到所有列表内容；如果设置为false，则当前用户只能看到列表上的SSW_Viewer（关联SSO_User列表的多值查阅项字段）或SSOwner（关联SSO_User列表的单值查阅项字段）字段里包含自己的那些记录内容。</p>            </blockquote></li><li><strong>URLQueryString</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于设置装载表单的iframe链接后面增加QueryString参数。</p>            </blockquote></li></ul><p>&emsp;&emsp;上述列表属性字段以json格式组织并填写在列表属性（List Property）文本框中，例如：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"Key"</span>:<span class="string">"Title"</span>,</span><br><span class="line">    <span class="attr">"ListURL"</span>:<span class="string">"/Lists/ESTRA_DelFor"</span>,</span><br><span class="line">    <span class="attr">"SubListURL"</span>:<span class="string">"/Lists/ESTRA_DelForDetail"</span>,</span><br><span class="line">    <span class="attr">"FormURL"</span>:<span class="string">"Form_2001"</span>,</span><br><span class="line">    <span class="attr">"LinkFields"</span>:<span class="string">"MaterialNumber"</span>,</span><br><span class="line">    <span class="attr">"DisplayView"</span>:<span class="string">"SSFormView_2001"</span>,</span><br><span class="line">    <span class="attr">"DataView"</span>:<span class="string">"SSFormView_2001"</span>,</span><br><span class="line">    <span class="attr">"ImportView"</span>:<span class="string">""</span>,</span><br><span class="line">    <span class="attr">"ExportView"</span>:<span class="string">"SSExportView"</span>,</span><br><span class="line">    <span class="attr">"ShowNewButton"</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"ShowEditButton"</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"ShowDeleteButton"</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"ShowExportButton"</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"OrderByDesc"</span>:<span class="string">"ReleaseDateTime"</span>,</span><br><span class="line">    <span class="attr">"SearchFields"</span>:<span class="string">"SSW_WorkflowNumber,Plant,MaterialNumber,MaterialDescription,SupplierCode,SupplierDescription,ScheduleAgreement"</span>,</span><br><span class="line">    <span class="attr">"ShowAll"</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"URLQueryString"</span>:<span class="string">"&amp;display=1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-49-25.png' ></img></div><h3 id="系统常量定义"><a href="#系统常量定义" class="headerlink" title="系统常量定义"></a>系统常量定义</h3><p>&emsp;&emsp;系统常量中可以定义在整个系统中通用的常量，系统常量的值在定义时写入，不能修改，可以被系统中所有流程引用。<br>&emsp;&emsp;在工作流设计器左侧点击工作流名称，进入工作流属性设置页面。点击页面上方的 <span class="p-1 rounded mb-2 bg-danger text-white">系统常量</span> 按钮，在弹出的“系统常量定义”窗口中可进行系统常量的增加、修改和删除。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-49-46.png' ></img></div><p>&emsp;&emsp;点击系统常量定义窗口的 <span class="p-1 rounded mb-2 bg-danger text-white">+新增</span> 按钮，开始创建一个新的系统常量：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在系统中，流程常量的标题必须唯一。</p>            </blockquote></li><li><strong>变量类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>系统常量，不允许修改。</p>            </blockquote></li><li><strong>值类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可选项目包括：单行文本、数字、日期时间、是否、用户。</p>            </blockquote></li><li><strong>值</strong>  <blockquote class="callout border-success bg-soft-success">              <p>根据变量值类型设置或选择相应的初始值，允许为空。</p>            </blockquote></li><li><strong>备注</strong>  <blockquote class="callout border-success bg-soft-success">              <p>对系统常量进行说明的备注信息。</p>            </blockquote></li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-50-11.png' ></img></div><h2 id="工作流版本"><a href="#工作流版本" class="headerlink" title="工作流版本"></a>工作流版本</h2><p>&emsp;&emsp;工作流版本是实际承载流程节点、流程操作、流程变量、流程角色以及附着在这些元素上的流程逻辑的载体。从结构上来说，工作流版本附着于工作流之下。每个工作流下都会有至少一个，多则数量不限的工作流版本。<br>&emsp;&emsp;一个工作流正式启用以后，在任意时间点都只会有一个工作流版本作为当前的工作版本，新提交的流程单据会以当前工作版本为基础启动新的流程。如果有新的工作版本发布，则其他已经在运行过程中的流程会按照启动时的流程版本继续流转，不会受新发布的工作版本影响。</p><h3 id="工作流版本属性"><a href="#工作流版本属性" class="headerlink" title="工作流版本属性"></a>工作流版本属性</h3><p>&emsp;&emsp;在工作流设计器左侧导航栏中选中需要增加/管理工作流版本的工作流名称，然后在右侧内容区域上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">+ 新增/工作流版本</span> 按钮，进入工作流版本新增页面。工作流版本属性分为3个主要区域：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-50-43.png' ></img></div><ul><li><strong>基本信息</strong><ul><li><strong>标题</strong><blockquote class="callout border-success bg-soft-success">              <p>工作流版本的标题，默认为工作流名称+V+版本顺序号，可根据实际需要修改。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong><blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的工作流版本标题。</p>            </blockquote></li><li><strong>工作流 (Workflow Category)</strong><blockquote class="callout border-success bg-soft-success">              <p>当前工作流版本所属的工作流，不允许修改。</p>            </blockquote></li><li><strong>版本号 (Workflow Version)</strong><blockquote class="callout border-success bg-soft-success">              <p>当前工作流版本的版本号，当工作流版本发布后系统自动生成，不允许修改。</p>            </blockquote></li><li><strong>流程缩写 (Short Name)</strong><blockquote class="callout border-success bg-soft-success">              <p>流程缩写，用于生成流程单据编号，对应工作流设置中的SEQKeyFormat里的{0}。</p>            </blockquote></li><li><strong>流程表单 (FormURL)</strong><blockquote class="callout border-success bg-soft-success">              <p>流程表单名称，填写表单设计器中设计的FormId（从表单属性页面获取，参照《工作流表单设计/设计表单/表单属性》。</p>            </blockquote></li><li><strong>备注 (Memo)</strong><blockquote class="callout border-success bg-soft-success">              <p>文本输入对工作流的备注说明。</p>            </blockquote></li></ul></li><li><strong>审批任务提醒</strong><ul><li><strong>提醒邮件标题</strong><blockquote class="callout border-success bg-soft-success">              <p>设置当前流程版本特定的审批任务提醒邮件标题模板。</p>            </blockquote></li><li><strong>提醒邮件内容</strong><blockquote class="callout border-success bg-soft-success">              <p>设置当前流程版本特定的审批任务提醒邮件内容模板。</p>            </blockquote></li></ul></li><li><strong>审批超时提醒</strong><ul><li><strong>超时提醒邮件标题</strong><blockquote class="callout border-success bg-soft-success">              <p>设置当前流程版本特定的审批任务超时提醒邮件标题模板。</p>            </blockquote></li><li><strong>超时提醒邮件内容</strong><blockquote class="callout border-success bg-soft-success">              <p>设置当前流程版本特定的审批任务超时提醒邮件内容模板。</p>            </blockquote></li></ul></li></ul><blockquote class="callout border-danger bg-soft-danger">              <p>注：邮件标题、内容模板具体设定规则可参照《系统管理/系统邮件模板设置》章节的相关说明。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-51-15.png' ></img></div><p>&emsp;&emsp;创建工作流版本并保存后，进入图形化的工作流版本设计页面。也可以从左侧导航栏中选择需要设置流程节点的工作流版本，进入相应的工作流版本设计页面。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-51-49.png' ></img></div><h3 id="流程变量定义"><a href="#流程变量定义" class="headerlink" title="流程变量定义"></a>流程变量定义</h3><p>&emsp;&emsp;流程变量可以用于在流程实例的流转过程中记录和流程或业务单据相关的中间结果，并根据流程流转条件对流程变量值进行修改。对于较复杂的业务逻辑也可以在自定义代码中给流程变量赋值。流程变量可以用于逻辑判断节点的逻辑条件判断，或列表赋值等操作。<br>&emsp;&emsp;在工作流版本设计页面上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">变量定义</span> 按钮，在弹出的变量列表窗口中创建或编辑流程变量。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-52-06.png' ></img></div><p>&emsp;&emsp;点击 <span class="p-1 rounded mb-2 bg-danger text-white">+ 新增</span> 按钮创建一个新的流程变量，流程变量包含下列属性：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在同一个工作流中，流程变量的标题必须唯一</p>            </blockquote></li><li><strong>变量类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>工作流变量，不允许修改。</p>            </blockquote></li><li><strong>变量值类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可选项目包括：单行文本、数字、日期时间、是否、用户。</p>            </blockquote></li><li><strong>初始值</strong>  <blockquote class="callout border-success bg-soft-success">              <p>根据变量值类型设置或选择相应的初始值，允许为空。</p>            </blockquote></li><li><strong>备注</strong>  <blockquote class="callout border-success bg-soft-success">              <p>对变量进行说明的备注信息。</p>            </blockquote></li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-56-30.png' ></img></div><h3 id="流程节点定义"><a href="#流程节点定义" class="headerlink" title="流程节点定义"></a>流程节点定义</h3><p>&emsp;&emsp;工作流版本创建后，用户可以在工作流版本设计页面中通过添加流程节点，并使用流程操作将流程节点进行关联的方式对实际业务场景下的业务流程进行定义。<br>&emsp;&emsp;在工作流版本设计页面中，点击 <span class="p-1 rounded mb-2 bg-danger text-white">+ 新增/工作流节点/节点类型</span> 开始创建当前工作流版本中需要的流程节点。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-58-46.png' ></img></div><h4 id="启动节点"><a href="#启动节点" class="headerlink" title="启动节点"></a>启动节点</h4><p>&emsp;&emsp;工作流版本创建时，系统默认为该工作流版本创建一个启动节点。每个工作流版本必须且仅允许创建一个启动节点。在工作流版本设计页面中选中“启动节点”，点击上方的 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮，在弹出的节点属性窗口中进行设置，启动节点属性包括：</p><ul><li><strong>标题</strong>   <blockquote class="callout border-success bg-soft-success">              <p>默认为“启动节点”，可修改。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的标题。</p>            </blockquote></li><li><strong>节点顺序 (Node Order)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>启动节点顺序默认为0，不允许修改；在每个工作流版本下只允许有一个顺序为0的节点。</p>            </blockquote></li><li><strong>流程状态 (Workflow Status)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>启动节点的流程状态默认设置为“退回修改/Rejected”状态，不允许修改；流程状态是指流程流转到该节点时流程所处的状态，启动节点的流程状态较为特殊，当流程实例第一次启动时，启动节点的状态默认为“启动/Starting”，当流程流转过程中被拒绝退回到启动节点时，流程状态等于“退回修改/Rejected”状态。</p>            </blockquote></li><li><strong>附件上传 (Attachment Upload)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>审批说明 (Comments Input)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>备注</strong>  <blockquote class="callout border-success bg-soft-success">              <p>对流程节点进行说明，这个备注信息将显示在流程图上，当用户鼠标停留在节点上时。</p>            </blockquote></li></ul><blockquote class="callout border-danger bg-soft-danger">              <p>注1：在工作流实际流转过程中，如果流程被退回到启动节点时在流程实例中还存在未完成的审批任务，这些任务均会被置为 <span class="p-1 rounded mb-2 bg-danger text-white">取消</span> 状态。这是为了避免流程退回并重新提交可能造成的任务重复分配和任务状态不一致。</p><p>注2：其他设置参照《流程节点通用设置》章节的说明。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-09-54.png' ></img></div><h4 id="审批节点"><a href="#审批节点" class="headerlink" title="审批节点"></a>审批节点</h4><p>&emsp;&emsp;审批处理节点是办公流程设计中最关键的流程节点，通过这个节点完成流程审批任务的分发和审批操作。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-12-22.png' ></img></div><p>&emsp;&emsp;审批处理节点特定的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>备注</strong></li><li><strong>审批类型</strong><ul><li><strong>单人审批</strong><blockquote class="callout border-success bg-soft-success">              <p>代表该审批节点分发的审批任务（如果有多条）只要有一个任务被处理，其他所有任务都会被取消，流程将根据用户选定的操作继续流转。</p>            </blockquote></li><li><strong>并行审批</strong><blockquote class="callout border-success bg-soft-success">              <p>设为并行审批的情况下，节点操作只允许设置2条，并且操作数值分别设定为1和0，使用1代表同意（或类似操作，操作名称可自定义）；使用0代表拒绝（或类似操作，操作名称可自定义）。<br>并行审批节点分配出审批任务（如果有多条）中，如果任意一条被处理时选择了操作数值0对应的节点操作（拒绝），则同节点上其他所有未处理任务都将被取消，流程将按照拒绝操作继续流转；如果所有任务都被处理并且选择了操作数值1对应的节点操作（同意），则流程将按照同意操作继续流转。<br>并行审批节点可以设置“最少并行审批数”参数，如果该参数不设置或设置为0，则并行节点上分配的所有任务必须全部审批通过才算通过；如果该参数设置为大于0的正整数，则当并行节点上审批通过的任务数量（也即选择操作数值为1的审批操作数量）大于等于该数字时，该节点通过审批，否则等待。</p>            </blockquote></li></ul></li><li><strong>附件上传 (Attachment Upload)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>审批说明 (Comments Input)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>任务分发类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该属性仅对需要在该节点前一步的审批处理（或单据提交）页面上选择下步节点的审批角色和审批用户时有效。</p>            </blockquote><ul><li><strong>角色</strong><blockquote class="callout border-success bg-soft-success">              <p>仅列出根据该节点的角色设置中设置的角色解析出的所有部门角色用户关系列表供审批用户选择。</p>            </blockquote></li><li><strong>用户</strong><blockquote class="callout border-success bg-soft-success">              <p>同时列出部门角色用户关系列表和用户列表，用户列表根据所选择的部门角色用户关系自动过滤出相关联的用户列表供审批用户选择。</p>            </blockquote></li></ul></li><li><strong>避免重复审批</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该属性设置为“是”时，在当前审批节点上分配的工作流任务中如果包含在当前流程实例的前面节点中进行过审批，且选择了“审批通过”操作的审批用户，则在当前节点上自动作为“审批通过”处理；也就是说同一个用户可避免两次对同一个流程进行“审批通过”的操作。</p>            </blockquote></li><li><strong>允许召回 (Can be retrived)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>加签类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在审批处理节点上设置加签后，审批用户在流程中可以在当前节点之前或之后增加原流程设计中不包含的其他审批处理用户。</p>            </blockquote><ul><li><strong>前加签</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户可以在其本人的审批之前增加其他审批处理用户，前加签的用户完成审批后，无论前加签用户选择的审批意见是『同意』（审批操作数值为1）还是『拒绝』（审批操作数值为0），审批任务都会回到原来的审批用户处继续处理。</p>            </blockquote></li><li><strong>后加签</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户可以在其本人的审批之后增加其他审批处理用户，后加签的用户选择的审批意见将替代当前审批用户的审批意见。</p>            </blockquote></li><li><strong>委派</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户可以将自己的审批任务委派给其他用户处理。</p>            </blockquote></li><li><strong>要求解释</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户将当前任务转发给流程申请人，流程申请人对该单据进行解释后重新提交回到当前审批用户处进行审批。</p>            </blockquote></li><li><strong>加签</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户将其他用户设置为审批用户，增加的用户和当前审批用户对于审批任务的操作的效果是相同的，也就是说无论是加签的用户还是原审批用户都可以对单据进行审批。</p>            </blockquote></li></ul></li><li><strong>最少并行审批数</strong>  <blockquote class="callout border-success bg-soft-success">              <p>审批类型选择为并行审批时，如果该属性设置的数字为大于0的整数，则判断该节点上已经有大于或等于该数字的审批人员，或是所有审批人员执行了代表“审批通过（操作数值=1）”的审批操作时，该节点被判定为审批通过，并按照设置的流程继续向下流转；如果该属性未设置或设置为0，则必须是所有审批人员审批通过，该节点才被判定为审批通过。</p>            </blockquote></li><li><strong>允许邮件审批</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设定在本节点的用户，是否可以通过回复电子邮件进行审批处理。通过电子邮件审批需要在系统中进行相应的设定，详细请参照《系统管理/电子邮件审批设置』。</p>            </blockquote></li><li><strong>发送邮件附件</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设定是否将流程单据上的附件（如果有，仅限主表单上的附件）作为通知任务审批用户的电子邮件附件；结合邮件附件 (MailAttachments)属性一起使用。</p>            </blockquote></li><li><strong>邮件附件 (MailAttachments)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果发送邮件附件设置为“是”，则判断MailAttachments是否有值，如果没有值则将当前表单上所有以“SSF_Attachments”开头的文本附件字段和列表本身的附件字段 (Attachments)包含的所有附件作为当前节点发送的电子邮件附件发送给审批用户；如果MailAttachments字段中设置了内容，则仅将该字段中设置的字段内包含的附件作为邮件附件发送。</p>            </blockquote></li><li><strong>邮件标题模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《系统邮件模板设置》。</p>            </blockquote></li><li><strong>邮件内容模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《系统邮件模板设置》。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》</p>            </blockquote></li><li><strong>可编辑字段</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》</p>            </blockquote></li></ul><h4 id="审阅节点"><a href="#审阅节点" class="headerlink" title="审阅节点"></a>审阅节点</h4><p>&emsp;&emsp;审阅节点通常用于在流程中给相关人员发送通知提醒。审阅节点将审阅任务分配给相关人员，审阅节点不会阻止流程，审阅节点分发审阅任务后就将继续转向下步节点的处理。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-33-03.png' ></img></div><p>&emsp;&emsp;审阅节点的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>备注</strong></li><li><strong>附件上传 (Attachment Upload)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>审批说明 (Comments Input)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>邮件附件 (MailAttachments)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果发送邮件附件设置为“是”，则判断MailAttachments是否有值，如果没有值则将当前表单上所有以“SSF_Attachments”开头的文本附件字段和列表本身的附件字段 (Attachments)包含的所有附件作为当前节点发送的电子邮件附件发送给审批用户；如果MailAttachments字段中设置了内容，则仅将该字段中设置的字段内包含的附件作为邮件附件发送。</p>            </blockquote></li><li><strong>邮件标题模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《系统邮件模板设置》。</p>            </blockquote></li><li><strong>邮件内容模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《系统邮件模板设置》。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>可编辑字段</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li></ul><h4 id="逻辑判断节点"><a href="#逻辑判断节点" class="headerlink" title="逻辑判断节点"></a>逻辑判断节点</h4><p>&emsp;&emsp;逻辑判断节点可以在不同的流程分支上设置逻辑判断公式，让流程根据逻辑判断的结果走向不同的分支，从而实现对流程走向的灵活控制。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-38-40.png' ></img></div><p>&emsp;&emsp;逻辑判断节点的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>允许召回</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>多操作执行 (Multioperation)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该字段设置为Yes时，当前的逻辑判断节点在流程实例中如果有多个节点操作的逻辑公式都满足True的条件，则多个节点操作将被同时启动；否则，仅第一个满足逻辑公式==True的节点操作将被启动。</p>            </blockquote></li><li><strong>备注</strong></li></ul><h4 id="并行节点"><a href="#并行节点" class="headerlink" title="并行节点"></a>并行节点</h4><p>&emsp;&emsp;并发处理节点用于在流程中判断多条并发的流程分支是否完成，并在和该节点关联的所有并发流程分支完成后向下继续流转。在工作流中启动并发并不需要使用并发节点，只需要在一个操作下设置多个下步流程节点，就可以开始并发处理。<br>&emsp;&emsp;在并发处理结束的地方，必须将所有并发处理的流程分支均指向同一个并发处理节点判断，并使用该节点判断并发流程分支是否已经全部处理完成。<br>&emsp;&emsp;并发节点的节点操作只能设定一个，如果设定多个，流程会从最后一个创建的节点操作流转。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-42-19.png' ></img></div><p>&emsp;&emsp;并行节点的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>允许召回 (Can be retrived)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>并发数量</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前并发节点对应的并发数量。如果设定了该值，则并发处理节点判断已经完成的并发操作数是否等于设定的并发数量，等于则继续流转流程，否则继续等待。</p>            </blockquote></li><li><strong>并发启动节点</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前并发节点对应的所有并发的最初启动节点。如果设定了该值，则并发处理节点找到该启动节点，计算从该启动节点启动的实际并发分支数量（和工作流实例相关的并发数量，当前实例中未启动的分支不计算），并以该数量判断已经结束的并发数量是否满足继续向下流转的条件。</p>            </blockquote></li></ul><h4 id="结束节点"><a href="#结束节点" class="headerlink" title="结束节点"></a>结束节点</h4><p>&emsp;&emsp;流程结束节点标志一个流程已经完成或终止。在流程中，一旦流程结束节点被触发，流程实例关联的所有未完成任务和处于等待状态的节点都将被取消。流程结束节点的状态通常设置为“流程结束”或“流程中止”。<br>&emsp;&emsp;流程结束节点通常可以用来结束一个流程，或是中止一个不需要继续执行的流程。每个流程中可以有多个流程结束节点。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-46-33.png' ></img></div><p>&emsp;&emsp;结束节点的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li></ul><blockquote class="callout border-danger bg-soft-danger">              <p>注：如果流程设置合理，流程中的任务都可以正常结束的情况下，理论上来讲流程结束节点是非必须的。</p>            </blockquote><h4 id="通用设置"><a href="#通用设置" class="headerlink" title="通用设置"></a>通用设置</h4><p>&emsp;&emsp;以下是多个类型的流程节点通用设置：</p><ul><li><strong>附件上传 (Attachment Upload)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>不需要/可选/必须上传；流程提交前审批人员可以做的审批附件操作；如果设置为“不需要”，则审批页面上不会出现审批附件上传控件，如果设置为“必须上传”，则审批人员必须上传审批附件后才能提交流程；该属性适用于启动节点、审批节点、审阅节点。</p>            </blockquote></li><li><strong>审批说明 (Comments Input)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>不需要/可选/必须填写；流程提交前当前的审批人员是否需要/允许输入审批说明；如果设置为“不需要”，则审批界面上将不显示审批说明输入框，如果设置为“必须填写”，则审批人员必须填写审批说明后才能提交流程；该属性适用于启动节点、审批节点、审阅节点。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>从参见《流程节点通用设置》的说明；节点在流程图中显示的顺序，可以以整数+小数的形式设置；整数决定节点所在的行数（以启动节点为第0行，依次向下延伸），小数部分决定节点在行上从左开始所在的列数。</p>            </blockquote></li><li><strong>允许召回</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该属性设置为“是”时，当流程单据处于审批节点或逻辑判断节点上等待的情况下（如果有多个节点同时处于等待状态，则必须所有等待中的节点的“允许召回”属性都被设置为“是”），申请人打开单据时可以通过点击单据页面上的『召回』按钮将单据回收到启动节点；在启动节点上申请人可以对单据进行修改后重新提交，流程将从头开始重新执行；在启动节点上申请人也可以通过点击单据页面上的 <span class="p-1 rounded mb-2 bg-danger text-white">终止</span> 按钮来终止该单据，</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当流程到达某个节点时，节点上设置的工作流状态将被设置为当前流程的工作流状态；“启动/Starting”和“回收中/Withdrawing”两个状态用于系统启动和回收流程，不可设置在流程节点上。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>使用自定义代码，可以在流程中完成流程节点操作和流程逻辑不支持的特殊业务逻辑，给需要复杂计算的流程变量赋值，启动和本流程相关的子流程，或者和第三方系统的交互。<br>自定义代码需继承水杉工作流节点事件基类：S2WorkflowNodeEvent。在该基类中开发了4个事件供开发者调用，分别对应流程节点处理的不同时机：</p>            </blockquote><ul><li><strong>Inited</strong><blockquote class="callout border-success bg-soft-success">              <p>流程节点启动时，也即进入流程节点前。</p>            </blockquote></li><li><strong>Processed</strong><blockquote class="callout border-success bg-soft-success">              <p>流程节点启动完成，也即进入流程节点后。</p>            </blockquote></li><li><strong>TaskCompleted</strong><blockquote class="callout border-success bg-soft-success">              <p>审批任务完成后，该事件仅适用于审批处理节点。</p>            </blockquote></li><li><strong>Completed</strong><blockquote class="callout border-success bg-soft-success">              <p>节点完成后，也即流程离开节点之前。</p>            </blockquote></li></ul></li></ul><p>&emsp;&emsp;继承S2WorkflowNodeEvent实现流程自定义代码片段如下图所示：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-57-17.png' ></img></div><p>&emsp;&emsp;S2WorkflowNodeEvent接口的代码片段如下图所示：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-57-50.png' ></img></div><p>&emsp;&emsp;自定义代码部署后，将自定义代码名称写入相应的流程节点的节点处理代码处，包括下列部分：节点处理代码的完整命名空间和类名称，项目名称，版本号，Culture=neutral，PublicKeyTokey，如下图所示：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-01-01-48.png' ></img></div><ul><li><strong>可编辑字段</strong>  <blockquote class="callout border-success bg-soft-success">              <p>流程处于审批、审阅或启动节点时，流程审批人员打开流程表单时，表单上可以设置部分字段允许审批人员进行编辑，以满足特定的业务需求；需要在节点所对应的审批/审阅流程表单上编辑的字段可以在节点的“可编辑字段”中写入字段的名称（列表字段的定义名称），每个字段占一行；如果需要在页面上支持子表的编辑，可配置子表名称，按照：“Lists/子表名称”的格式设置；如果某个节点上需要设置页面上所有可编辑字段都放开编辑，则可以设置关键字：”&lt;ALL&gt;”。</p>            </blockquote></li></ul><h3 id="节点设置"><a href="#节点设置" class="headerlink" title="节点设置"></a>节点设置</h3><h4 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h4><p>&emsp;&emsp;可以在流程节点上为已经定义的流程变量进行赋值。在工作流设计器中选择工作流节点，并点击『变量赋值』按钮，在弹出的『变量赋值』窗口中可以新增、编辑和删除变量赋值定义记录。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-11-35-36.png' ></img></div><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-11-36-27.png' ></img></div><ul><li><strong>工作流变量</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择需要进行赋值的工作流变量。</p>            </blockquote></li><li><strong>变量赋值事件</strong><ul><li><strong>节点预处理</strong><blockquote class="callout border-success bg-soft-success">              <p>节点启动前进行赋值，这个赋值事件仅适用于审批、审阅类型节点，预处理事件在审批、审阅类型节点的工作流任务被分配前触发，可以在这个事件中写入或修改和当前节点审批相关的用户类型变量。</p>            </blockquote></li><li><strong>节点启动</strong><blockquote class="callout border-success bg-soft-success">              <p>节点启动时进行赋值。</p>            </blockquote></li><li><strong>节点结束</strong><blockquote class="callout border-success bg-soft-success">              <p>节点结束时（流程离开该节点前）进行赋值。</p>            </blockquote><blockquote class="callout border-danger bg-soft-danger">              <p>注意：在流程启动节点上对变量进行赋值时，如果需要在流程退回启动节点并重新提交后对变量进行重新赋值的话，则应考虑在启动节点的“节点结束”事件中进行变量赋值；启动节点的“节点启动”事件仅在进入启动节点时触发，此时流程单据还没有进行修改，可能会影响流程变量获得正确的值。</p>            </blockquote></li></ul></li><li><strong>赋值来源</strong><ul><li><strong>特定值</strong><blockquote class="callout border-success bg-soft-success">              <ul><li><strong>文本、数字类型等可输入固定值。</strong></li><li><strong>文本类型可输入：$DTC.今天，$DTC.今日，$DTC.Today：代表变量赋值时当天的日期，不带时间。</strong></li><li><strong>文本类型可输入：$DTC.现在，$DTC.Now：代表变量赋值时的日期时间，包含时间。</strong></li><li><strong>日期类型变量可选择特定日期。</strong></li><li><strong>是否类型可选择Yes/No作为设置值。</strong></li><li><strong>用户类型可从系统的用户列表中选择特定的用户。</strong></li></ul>            </blockquote></li><li><strong>工作流变量</strong><blockquote class="callout border-success bg-soft-success">              <p>可以选择当前流程中相同类型的变量进行赋值。</p>            </blockquote></li><li><strong>系统常量</strong><blockquote class="callout border-success bg-soft-success">              <p>可以从当前系统中定义的同类型的系统常量列表中选择需要赋值给当前变量的常量名称。</p>            </blockquote></li><li><strong>工作流列表</strong><blockquote class="callout border-success bg-soft-success">              <p>可以选择工作流信息中相同类型的字段值进行赋值。</p>            </blockquote></li><li><strong>业务列表</strong><blockquote class="callout border-success bg-soft-success">              <p>可以选择业务单据列表中相同类型的字段值进行赋值。</p>            </blockquote></li><li><strong>计算值</strong><blockquote class="callout border-success bg-soft-success">              <p>可写入公式引用来自业务单据或工作流单据的字段值（可参照《逻辑公式设置》的说明）；支持对数字类型变量的带括号的加减乘除四则运算，例如：($VAR.number1+$VAR.number2)*$VAR.number2。</p>            </blockquote></li></ul></li><li><strong>设置值</strong>  <blockquote class="callout border-success bg-soft-success">              <p>根据赋值来源分别选择或输入相应的值。</p>            </blockquote></li><li><strong>排序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置赋值的顺序。</p>            </blockquote></li></ul><h4 id="列表赋值"><a href="#列表赋值" class="headerlink" title="列表赋值"></a>列表赋值</h4><p>&emsp;&emsp;在流程运转过程中，可以利用列表赋值功能给流程相关的工作流信息列表或业务单据信息列表上的特定字段进行赋值操作。<br>&emsp;&emsp;在工作流版本设计页面中，选择需要进行列表赋值操作的节点，点击页面上方的『列表赋值』按钮，在弹出页面中对当前节点的列表赋值操作进行新增、编辑和删除。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-11-50-28.png' ></img></div><p>点击 <span class="p-1 rounded mb-2 bg-danger text-white">新增</span> 按钮，在弹出窗口中开始定义新的列表赋值操作：</p><ul><li><strong>赋值目标列表 (Target List)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>从“工作流列表”或“业务单据列表”中选择。</p>            </blockquote></li><li><strong>字段名称</strong>  <blockquote class="callout border-success bg-soft-success">              <p>根据赋值目标列表的选择，分别列出工作流列表或业务单据列表的字段供选择。</p>            </blockquote></li><li><strong>赋值事件</strong><ul><li><strong>节点预处理</strong><blockquote class="callout border-success bg-soft-success">              <p>节点启动前进行赋值，这个赋值事件仅适用于审批、审阅类型节点，预处理事件在审批、审阅类型节点的工作流任务被分配前触发，可以在这个事件中写入或修改和当前节点审批相关的工作流或业务列表字段。</p>            </blockquote></li><li><strong>节点启动</strong><blockquote class="callout border-success bg-soft-success">              <p>节点启动时进行赋值。</p>            </blockquote></li><li><strong>节点结束</strong><blockquote class="callout border-success bg-soft-success">              <p>节点结束时（流程离开该节点前）进行赋值。</p>            </blockquote></li></ul></li><li><strong>赋值来源</strong><ul><li><strong>工作流变量</strong></li><li><strong>系统常量</strong></li><li><strong>计算值</strong></li></ul></li><li><strong>变量名称</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果在赋值来源设置了工作流量或系统常量，则变量名称中分别列出和当前选择的字段相同类型的工作流变量和系统常量供用户选择。</p>            </blockquote></li><li><strong>赋值顺序 (Order By)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置数字，定义当前的列表赋值顺序。</p>            </blockquote></li><li><strong>默认值 (Default Value)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果赋值来源选择了计算值，在默认值处写入确定值或公式引用来自业务单据或工作流单据的字段值（可参照《逻辑公式设置》的说明）。</p>            </blockquote></li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-11-53-11.png' ></img></div><h4 id="节点超时操作"><a href="#节点超时操作" class="headerlink" title="节点超时操作"></a>节点超时操作</h4><p>&emsp;&emsp;节点超时操作用于定义审批节点在审批任务分发超过一定时间后，由工作流引擎自动执行的动作。在工作流设计器中选中需要设置超时操作的审批节点后，点击页面上方的 <span class="p-1 rounded mb-2 bg-danger text-white">节点超时操作</span> 按钮，在弹出窗口中将显示已经在该节点上定义的节点超时操作。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-11-59-00.png' ></img></div><p>点击 <span class="p-1 rounded mb-2 bg-danger text-white">新建</span> 按钮开始创建一个新的节点操作，包含下列属性设置：</p><ul><li><strong>超时操作</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在超时发生时由系统自动执行的操作类型：</p>            </blockquote><ul><li><strong>邮件提醒</strong><blockquote class="callout border-success bg-soft-success">              <p>自动发送邮件。</p>            </blockquote></li><li><strong>同意</strong><blockquote class="callout border-success bg-soft-success">              <p>对当前审批节点自动执行“同意”操作。</p>            </blockquote></li><li><strong>拒绝</strong><blockquote class="callout border-success bg-soft-success">              <p>对当前审批节点自动执行“拒绝”操作</p>            </blockquote></li></ul></li><li><strong>提醒时间计算基础</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择计算应提醒时间的依据：</p>            </blockquote><ul><li><strong>节点启动时间</strong><blockquote class="callout border-success bg-soft-success">              <p>当前审批节点启动的时间。</p>            </blockquote></li><li><strong>流程启动时间</strong><blockquote class="callout border-success bg-soft-success">              <p>当前流程启动时间。</p>            </blockquote></li><li><strong>时间类型变量</strong><blockquote class="callout border-success bg-soft-success">              <p>从当前流程中定义的时间类型变量选择一个.</p>            </blockquote></li></ul></li><li><strong>提醒启动时间间隔 (Reminder Interval)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>定义从提醒时间计算基础开始以后多久时间进行第一次提醒。时间间隔定义为以分钟为单位的数字。</p>            </blockquote></li><li><strong>循环提醒</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可选择一次（仅处理一次），选择每分，每时（每小时），每天，每周，每月，每年，则需要设定『循环提醒间隔』，工作流结合循环提醒和循环提醒间隔的设定进行重复触发的提醒操作；例如循环提醒设置了每天，循环提醒间隔设置了2，则代表每2天提醒一次。</p>            </blockquote></li><li><strong>循环提醒次数</strong>  <blockquote class="callout border-success bg-soft-success">              <p>循环提醒发生的次数。</p>            </blockquote></li><li><strong>循环提醒持续时间</strong>  <blockquote class="callout border-success bg-soft-success">              <p>以分钟为单位的时间，从提醒时间计算基础开始，超过这个时间点后，不再循环提醒；这个属性和前述的“循环提醒次数”共同生效，以先到者为准。</p>            </blockquote></li><li><strong>收件人、抄送</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可选择当前申请人，当前审批人，或从当前流程的人员类型变量中选择，可多选。</p>            </blockquote></li><li><strong>逻辑判断公式 (Formula)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可定义逻辑判断公式，来同时决定相应的节点超时操作是否执行；如果逻辑判断公式不为空，则当相应的节点启动时，逻辑判断公式的计算结果需等于True，当前的节点超时操作设置才能生效。</p>            </blockquote></li><li><strong>邮件标题模板、邮件内容模板、短信提醒模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>发送邮件和短信提醒的标题和内容模板，具体设置方式参照『流程相关设定/邮件和短信模板』章节的说明。</p>            </blockquote></li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-12-01-31.png' ></img></div><h3 id="节点角色"><a href="#节点角色" class="headerlink" title="节点角色"></a>节点角色</h3><p>&emsp;&emsp;节点角色适用于审批、审阅和启动节点的设置。节点角色的设置决定了在相应的节点上被分配审批、审阅处理任务的角色和用户。无论在节点角色中设置的是角色或用户，最终所有任务都将分配到具体的用户帐号。<br>&emsp;&emsp;在流程设计器中选择需要设定节点角色的节点后，点击页面上方的『角色定义』按钮，在弹出的“工作流节点角色”窗口中定义当前节点的角色、用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-12-15-32.png' ></img></div><ul><li>部门角色 (Department Role)  <blockquote class="callout border-success bg-soft-success">              <p>指定部门角色用户关系，设置特定部门上的某个角色中包含的用户作为流程审批或审阅人员。</p>            </blockquote></li><li>向上相对角色 (Up Role)  <blockquote class="callout border-success bg-soft-success">              <p>在角色列表里指定一个角色名称，从流程实例的所属部门向上寻找到的第一个对应该角色的部门角色用户关系中包含的用户即为该节点的审批或审阅人员。例如，设置向上相对角色为“副总经理”，则从发起人所属部门向上在组织结构树中逐层寻找，找到任何一个部门下有“副总经理”角色时就停止寻找，并将找到的第一个部门角色用户关系中包含的用户取出，并给这些用户分发该节点的任务。<br>流程实例的所属部门的默认值等于流程发起人的所属部门，也可以根据实际业务需求在表单或流程中修改这个默认的所属部门。此外，在流程实例上还有一个Department0字段，如果在流程中给该字段赋值，那么工作流引擎将以这个字段里存储的部门为基础向上寻找相对角色。</p>            </blockquote>  <blockquote class="callout border-danger bg-soft-danger">              <p>注1：设置向上相对角色时需要注意确保在流程的发起人所属部门向上可以找到这个角色，否则会导致该节点无法分配任务。当然，在特定情况下，也可以通过节点上的默认操作功能，在节点没有任务分配时自动转向默认操作，避免流程中断。</p>            </blockquote></li><li>特定角色：<ul><li>发起人<blockquote class="callout border-success bg-soft-success">              <p>发起流程的用户。</p>            </blockquote></li><li>发起人的直线经理<blockquote class="callout border-success bg-soft-success">              <p>在发起人的用户信息中定义的直线经理用户。</p>            </blockquote></li><li>最近审批人的直线经理<blockquote class="callout border-success bg-soft-success">              <p>在流程流转过程中，最近一个审批用户的直线经理用户。通常可以用来设置循着人员汇报线条逐步向上审批的流程。</p>            </blockquote></li><li>创建人<blockquote class="callout border-success bg-soft-success">              <p>创建流程的用户（通常和发起人相同，但是在某些流程中可以修改发起人，创建人则不能修改）。</p>            </blockquote></li><li>部门经理<blockquote class="callout border-success bg-soft-success">              <p>流程单据所属部门（默认为创建流程的用户的所属部门，可根据实际需要修改）的部门经理。</p>            </blockquote></li></ul></li><li>曾用处理人 (Prev. Approver)  <blockquote class="callout border-success bg-soft-success">              <p>从节点列表中选择一个启动、审批或审阅类型的节点，本节点将把审批或审阅任务分配给该节点同样的用户；通常可以使用曾用处理人功能让曾经在某个节点上处理过任务的用户在后续流程中再次确认处理结果。</p>            </blockquote></li><li>指定用户  <blockquote class="callout border-success bg-soft-success">              <p>指定特定用户作为节点任务处理人员，可设置多个。</p>            </blockquote></li><li>指定角色  <blockquote class="callout border-success bg-soft-success">              <p>从角色列表中指定一个或多个角色名称，组织结构中所有和该角色关联的部门角色用户关系中包含的用户均作为节点任务处理人员。</p>            </blockquote></li><li>用户组  <blockquote class="callout border-success bg-soft-success">              <p>从组织结构中定义的用户组中选择一个或多个，将工作流任务分配给属于这些用户组的所有用户。</p>            </blockquote></li><li>公式  <blockquote class="callout border-success bg-soft-success">              <p>此处可以填写工作流列表、业务列表或工作流变量中定义的用户类型字段或变量：</p>            </blockquote><ul><li>工作流列表<blockquote class="callout border-success bg-soft-success">              <p>$SSW.字段名称。</p>            </blockquote></li><li>表单关联的业务列表<blockquote class="callout border-success bg-soft-success">              <p>$SYW.字段名称。</p>            </blockquote></li><li>工作流变量<blockquote class="callout border-success bg-soft-success">              <p>$VAR.变量名称。</p>            </blockquote><blockquote class="callout border-danger bg-soft-danger">              <p>注：上面所写的字段名称或变量名称关联的数据必须是用户类型（关联SSO_User）的查阅项字段，否则在流程中将无法实现预想的效果。</p>            </blockquote></li></ul></li></ul><h3 id="节点操作"><a href="#节点操作" class="headerlink" title="节点操作"></a>节点操作</h3><p>&emsp;&emsp;节点操作构成流程图中连接不同流程节点的线条。在审批类型的流程节点中，节点操作对应审批用户选择的审批意见（例如：同意、拒绝等）。<br>&emsp;&emsp;在节点编辑页面中选择“节点操作”标签页，进入节点操作设置页面。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-12-43-52.png' ></img></div><p>&emsp;&emsp;在节点操作列表上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">新增</span> 按钮开始创建一个新的流程操作。</p><ul><li>工作流节点  <blockquote class="callout border-success bg-soft-success">              <p>即当前编辑的节点，不可修改。</p>            </blockquote></li><li>操作类型  <blockquote class="callout border-success bg-soft-success">              <p>操作类型包括同意、拒绝、其它、隐藏4种，选择不同的操作类型可以对操作名称、操作数值等属性进行快捷设置。</p>            </blockquote><ul><li>同意<blockquote class="callout border-success bg-soft-success">              <p>操作名称默认设置为“同意/Approve”，操作数值设置为1。</p>            </blockquote></li><li>拒绝<blockquote class="callout border-success bg-soft-success">              <p>操作名称默认设置为“拒绝/Reject”，操作数值设置为0。</p>            </blockquote></li><li>其他<blockquote class="callout border-success bg-soft-success">              <p>操作名称不设置默认值，操作数值设置为2。</p>            </blockquote></li><li>隐藏<blockquote class="callout border-success bg-soft-success">              <p>操作名称不设置默认值，操作数值设置为-1。</p>            </blockquote></li></ul></li><li>操作名称  <blockquote class="callout border-success bg-soft-success">              <p>文字输入，例如：同意、拒绝等；可输入中文/英文/日文三种多语言选项。</p>            </blockquote></li><li>操作数值  <blockquote class="callout border-success bg-soft-success">              <p>数字输入。如果仅有同意、拒绝操作，则同意操作使用数字1作为操作数值，拒绝操作则使用数字0。<br>如果操作名称为负数，则该操作为隐藏操作，将不会出现在审批用户的审批界面上供选择。这个功能可以用于需要设定特定的默认操作用于在流程实例流转到节点时，节点对应的角色中不包含任何实际用户时的自动转向；或是节点超时自动转向的操作。</p>            </blockquote>  <blockquote class="callout border-danger bg-soft-danger">              <p>注1：操作数值为负数的操作仅仅在审批任务界面上不会显示，在流程图上仍然会显示。因此，设定操作数值为负数仅对审批节点有实际意义；<br>注2：同一个节点下的所有节点操作的操作数值不能重复。</p>            </blockquote></li><li>操作后流转节点  <blockquote class="callout border-success bg-soft-success">              <p>指定该操作后流转向的其他工作流节点；操作后流转节点可以指定多个，也可以指向当前节点本身。</p>            </blockquote>  <blockquote class="callout border-danger bg-soft-danger">              <p>注：如果将操作后流转节点指向节点自身，则需小心设计流程避免死循环的产生。除非是故意要设计死循环流程。</p>            </blockquote></li><li>逻辑判断公式  <blockquote class="callout border-success bg-soft-success">              <p>逻辑判断公式适用于逻辑判断节点，在逻辑判断节点上符合逻辑判断公式==True的节点操作将被启动。逻辑公式设置方式参照《系统管理/逻辑公式设置》章节的相关说明。</p>            </blockquote></li><li>默认操作  <blockquote class="callout border-success bg-soft-success">              <p>如果流程实例运转到审批处理节点时根据节点的角色设置没有找到任何实际用户可以分配任务（或是没有分配任何角色），则流程将自动转向该节点关联的默认操作设置为“是”的操作，如果有多个默认操作则转向找到的第一个默认操作。</p>            </blockquote></li><li>备注  <blockquote class="callout border-success bg-soft-success">              <p>文本输入对该节点操作的说明信息。</p>            </blockquote></li></ul><h3 id="工作流版本发布"><a href="#工作流版本发布" class="headerlink" title="工作流版本发布"></a>工作流版本发布</h3><p>&emsp;&emsp;工作流版本定义完成后，可以点击工作流设计器上方的『发布』按钮，将当前设计的工作流版本发布为工作流的最新版本。<br>&emsp;&emsp;工作流版本发布后，当前工作流发起的新实例将以最新版本为基础启动和流转。在工作流最新版本发布前已经启动的流程，将按照上一个版本的工作流继续流转直至完成或终止。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-12-54-28.png' ></img></div>]]></content>
      
    </entry>
    
    
  
</search>
