define(["./core","./core/access","./core/camelCase","./data/var/dataPriv","./data/var/dataUser"],function(t,o,c,u,f){"use strict";var i=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,s=/[A-Z]/g;function d(t,e,a){var n,r;if(void 0===a&&1===t.nodeType)if(n="data-"+e.replace(s,"-$&").toLowerCase(),"string"==typeof(a=t.getAttribute(n))){try{a="true"===(r=a)||"false"!==r&&("null"===r?null:r===+r+""?+r:i.test(r)?JSON.parse(r):r)}catch(t){}f.set(t,e,a)}else a=void 0;return a}return t.extend({hasData:function(t){return f.hasData(t)||u.hasData(t)},data:function(t,e,a){return f.access(t,e,a)},removeData:function(t,e){f.remove(t,e)},_data:function(t,e,a){return u.access(t,e,a)},_removeData:function(t,e){u.remove(t,e)}}),t.fn.extend({data:function(a,t){var e,n,r,i=this[0],s=i&&i.attributes;if(void 0!==a)return"object"==typeof a?this.each(function(){f.set(this,a)}):o(this,function(t){var e;if(i&&void 0===t)return void 0!==(e=f.get(i,a))||void 0!==(e=d(i,a))?e:void 0;this.each(function(){f.set(this,a,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=f.get(i),1===i.nodeType&&!u.get(i,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(n=s[e].name).indexOf("data-")&&(n=c(n.slice(5)),d(i,n,r[n]));u.set(i,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){f.remove(this,t)})}}),t});