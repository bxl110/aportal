"use strict";module.exports=function(c){c.registerTask("testswarm",function(t,e,r){var s,a=require("testswarm"),u={},i=this.async(),o=/PR-(\d+)/.exec(t),n=c.file.readJSON(e).jquerymigrate,m=c.config("tests")[r],l=r||n.browserSets;"["===l[0]&&(l=JSON.parse(l)),s=o?"Pull <a href='https://github.com/jquery/jquery-migrate/pull/"+o[1]+"'>#"+o[1]+"</a>":"Commit <a href='https://github.com/jquery/jquery-migrate/commit/"+t+"'>"+t.substr(0,10)+"</a>",m.forEach(function(e){var r=e.split("+");u[e]=n.testUrl+t+"/test/index.html?plugin="+r[0]+"&jquery="+r[1]}),a.createClient({url:n.swarmUrl}).addReporter(a.reporters.cli).auth({id:n.authUsername,token:n.authToken}).addjob({name:s,runs:u,runMax:n.runMax,browserSets:l,timeout:18e5},function(e,r){e&&c.log.error(e),i(r)})})};